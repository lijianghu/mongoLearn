# mongoLearn
# 前言
```
由于工作中用到了mongoDB，基本查询和操作已够满足平时的使用，
这里系统总结一下常用的功能。
```
<hr>

# 涉及功能

## 一 常用操作（增删改查）
```
常用标签
    @Id
    @Document
    @Indexed
    @CompoundIndex
    @Field
    @Transient
    @DBRef
插入操作
    insert对象，指定ID
    insert对象，不指定ID
    insert对象，指定集合
    save对象
删除操作
修改操作
    基于Update更新
    基于Save的操作
    原子性更新操作
查询操作
    基础的查询操作
    条件查询
    原子性查询操作
```

## 二 高级查询（组合查询，分页、聚合，排序）
```
1.分页查询
    skip+limit形式
    PageRequest形式
2.排序
3.聚合
4.联合查询
    嵌入式数据模型
    引用式数据模型
        使用unwind管道符
        不使用unwind管道符
```
## 三 索引操作
```
1.查询索引
2.删除索引
3.创建索引
    单列索引、复合索引、多键值索引
4.使用索引查询
    单列索引，复合索引，多键值索引，hash索引
    全文索引
    地理位置索引数据点示例
2d平面-地理位置索引
    实体类
    find查询
    geoNear查询
2dsphere球面-地理位置索引
    实体类
    find查询
    geoNear查询
    在规定球形范围内查询
5.索引的特性
    实体类
    集合已创建
    唯一性设置并验证
    稀疏性设置并验证
    部分性设置并验证
    TTL性设置并验证
```
## 四 事务，多数据源，正则，MapReduce
```
1.hint指定强制使用索引
2.事务操作
    前置条件
    单数据源
        添加事务处理器
        编写方法并添加事务注解
        验证
    多数据源
        主数据源添加事务管理器
        备数据源添加事务管理器
        添加全局事务管理器
        方法添加对应的事务管理器
        验证
3.正则查询
4.MapReduce
    查询年龄大于2的同学中，不同性别的人数
    查询年龄大于3且成绩排名前三的同学中，不同性别同学的名字集合
5.GridFS
    单数据源
        操作模板引入
        put数据
        Get数据
        List数据
        delete数据
    多数据源
        操作模板引入
        Put数据
        Get数据
        List数据
        Delete数据
```